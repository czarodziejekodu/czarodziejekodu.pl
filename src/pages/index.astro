---
import Layout from "../layouts/BaseLayout.astro";
import Card from "../components/Card.astro";
import Logo from "/assets/czarodzieje-kodu.png";

import Post from "../components/Post.astro";

const posts = await Astro.glob("../data/2022/*.md");

const sortedPosts = posts.sort(function (a, b) {
  const x = a.frontmatter.order;
  const y = b.frontmatter.order;

  if (b.frontmatter.order > a.frontmatter.order) return -1;
  if (b.frontmatter.order < a.frontmatter.order) return 1;
  return 0;
});
---

<Layout title="Czarodzieje kodu">
  <main>
    <header>
      <h1><img src={Logo} alt="Czarodzieje kodu" /></h1>
    </header>
    <div>
      {
        sortedPosts.map((post) => (
          <Post frontmatter={post.frontmatter}>
            <Fragment set:html={post.compiledContent()} />
          </Post>
        ))
      }
    </div>
  </main>
</Layout>

<style>
  header {
    margin: auto;
    padding: 1rem max(1rem, calc(50% - 50ch)) 0;
  }
  header h1{
    padding: 0;
    margin: 0
  }
  header img {
    max-width: 100%;
    width: 300px;
  }
</style>
